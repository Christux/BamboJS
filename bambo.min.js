/*!
BamboJS

Description : Light javascript module builder
Author : Christophe Rubeck
Version : 1.1
Date : 2018 feb 17
See : https://github.com/Christux/BamboJS
*/
!function(n){"use strict";function r(n){return"object"==typeof n&&!Array.isArray(n)&&null!==n}
function t(n){return Array.isArray(n)}function e(n){return"string"==typeof n}function o(n){
return"function"==typeof n}function i(n){return"boolean"==typeof n}function u(n){
return"number"==typeof n}function s(n){return void 0===n||null===n}function c(n,e){
if(!r(n)&&!t(n))throw new Error("First parameter must be an array or an object")
;if(!o(e))throw new Error("Second parameter must be a function")
;if(t(n))for(var i=0,u=n.length;i<u;i++)e(n[i],i);if(r(n)){i=0
;for(var s in n)n.hasOwnProperty(s)&&e(n[s],i++)}}function a(){function n(n){
window.document.body.scrollTop=n,window.document.documentElement.scrollTop=n}function r(){
return window.pageYOffset}return function(){var n=l(this)
;return window.addEventListener("scroll",function(){n.notifyAll(r())},!1),this}.call({set:n,get:r,
reset:function(){n(0)}})}function f(){return{create:l}}function l(n){function r(n){
if(!o(n))throw new Error("Handler must be a function");i.push(n)}function t(n){
if(!o(n))throw new Error("Handler must be a function");i=i.filter(function(r){return r!==n})}
function e(){var n=arguments;c(i,function(r){o(r)&&r.apply(this,n)})}var i=[];return function(){
return this.registerHandler=r,this.unregisterHandler=t,this.notifyAll=e,this}.call(n||{})}
function h(){function n(){return window.location.hash.split("#")[1]}return function(){var r=l(this)
;return window.addEventListener("hashchange",function(){r.notifyAll(n())},!1),this}.call({
getAnchor:n,get:n})}function d(){return{get:function(n){
if(!e(n))throw new Error("Url must be a string");return w("GET",n,null)},post:function(n,r){
if(!e(n))throw new Error("Url must be a string");return w("POST",n,r)}}}function w(n,r,t){
var e,i,u,s=new XMLHttpRequest;t=t||null;return function(){return s.onreadystatechange=function(){
s.readyState===s.DONE&&(200===s.status?e&&o(e)&&e(s.responseText):i&&o(i)&&i(s.status+" "+s.statusText))
},s.onerror=function(n){i&&o(i)&&i(n.error)},s.ontimeout=function(n){u&&o(u)&&u(n)},this}.call({
success:function(n){return e=n,this},error:function(n){return i=n,this},timeout:function(n){
return u=n,this},setTimeout:function(n){return s.timeout=n,this},send:function(){s.open(n,r,!0),
s.send(t)}})}function p(){function n(n){t(n);var r=o.hasOwnProperty(n)
;if(!r)throw new Error("Action "+n+" does not exist !");return r}function r(n){t(n),
o.hasOwnProperty(n)||(o[n]=l())}function t(n){
if(!e(n))throw new Error("Action parameter must be a string !")}var o={};return function(){
return this}.call({registerHandler:function(n,t){r(n),o[n].registerHandler(t)},
unregisterHandler:function(r,t){n(r)&&o[r].unregisterHandler(t)},notifyAll:function(r){
n(r)&&o[r].notifyAll()},isActionRegistered:function(n){return t(n),o.hasOwnProperty(n)},
registerAction:function(n){r(n)}})}
if(n.hasOwnProperty("bambo"))throw new Error("Library BamboJS is already loaded !")
;n.bambo=function(){function n(n){return function(){l.forEachModules(function(r){
if(r.isInstanciated()){var t=r.getInstance();t.hasOwnProperty(n)&&l.resolve(t[n])}})}}
var l=function(){function n(n,t,e,o){function c(){return r(o)}var o=o||void 0;return{
getInstance:function(e){return c()||(o=function(e){var e=u(e)?e+1:0,o=i(t,[],s,{},e)
;if(!r(o))throw new Error("Module "+n+" constructor is not correctly defined, it must return an object")
;return o}(e)),o},isInstanciated:function(){return c()},loadOnStartup:function(){return e}}}
function i(n,r,i,u,s){if(s>1e3)throw new Error("Loop in module dependencies detected");if(t(n)){
var a=n,n=a[a.length-1],r=a.slice(0,a.length-1)
;if(!o(n))throw new Error("Last element must be a function")}else{var r=r||[]
;if(n.hasOwnProperty("$inject")&&(r=n.$inject,
!t(r)))throw new Error("$inject parameter must be an array")}
if(!o(n))throw new Error("First element must be a function")
;if(!t(r))throw new Error("Dependency parameter must be an array of strings");return function(n,r){
return n.apply(this,r)}(n,function(n,r,t,o){var i=[];return c(n,function(n){
if(!e(n))throw new Error("Dependency must be a string")
;if(r.hasOwnProperty(n))i.push(r[n].getInstance(o));else{
if(!t.hasOwnProperty(n))throw new Error("Dependency module "+n+" not found !");i.push(t[n])}}),i
}(r,i||{},u||{},s))}var s={};return function(){return s.$injector=n("$injector",null,!1,this),this
}.call({register:function(r,t,e){!function(n,r){
if(s.hasOwnProperty(n))throw new Error("Module "+n+" is already registered");s[n]=r}(r,n(r,t,e||!1))
},resolve:function(n,r,t){return i(n,r,s,t,0)},forEachModules:function(n){c(s,function(r){
n.apply(this,[r])})}})}();return function(){l.register("$http",d),l.register("$scroll",a),
l.register("$observer",f),l.register("$location",h),l.register("$flux",p)
;var r=n("$init"),t=n("$build"),e=n("$final");return window.addEventListener("load",function(){
l.forEachModules(function(n){n.loadOnStartup()&&n.getInstance()}),r(),t(),e()},!1),this}.call({
module:function(n,r,t){if(!e(n)||""===n)throw new Error("Module name must be a string")
;return l.register(n,r,!i(t)||t),this},isString:e,isObject:r,isArray:t,isFunction:o,isBoolean:i,
isNumber:u,isUndefinedOrNull:s,forEach:c})}()}(this);